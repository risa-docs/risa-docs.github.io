<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RISA: Configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RISA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__configuration.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Configuration </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Configuration</h1>
<p >RISA is executed using a configuration file in JSON format.</p>
<h2>Overall structure of the configuration file</h2>
<p >A valid RISA configuration file needs to include at least these keys: </p><div class="fragment"><div class="line">{</div>
<div class="line">    &quot;modeOfOperation&quot;: &quot;description of the configured pipeline&quot;,</div>
<div class="line">    &quot;libraryPaths&quot; : [</div>
<div class="line">        &quot;/path/to/risa-libraries/libRISA_Core.so&quot;,</div>
<div class="line">        &quot;/path/to/risa-libraries/libRISA_Template.so&quot;,</div>
<div class="line">        ...</div>
<div class="line">        &quot;/path/to/risa-libraries/libRISA_MyLibrary.so&quot;</div>
<div class="line">    ],</div>
<div class="line">    &quot;pipeline&quot; : {</div>
<div class="line">        &quot;runtimeConfigPath&quot; : &quot;/path/to/store/runtime-configuration-files/&quot;,</div>
<div class="line">        &quot;Stages&quot; : [</div>
<div class="line">            { &lt; stage descriptor 1 &gt;},</div>
<div class="line">            { &lt; stage descriptor 2 &gt;},</div>
<div class="line">            ...</div>
<div class="line">            { &lt; stage descriptor x &gt;}</div>
<div class="line">        ],</div>
<div class="line">        &quot;Connections&quot; : [</div>
<div class="line">            { &lt; connection descriptor 1 &gt;},</div>
<div class="line">            { &lt; connection descriptor 2 &gt;},</div>
<div class="line">            ...</div>
<div class="line">            { &lt; connection descriptor y &gt;}</div>
<div class="line">        ],</div>
<div class="line">        &quot;Observers&quot; : [</div>
<div class="line">            { &lt; observer descriptor 1 &gt;},</div>
<div class="line">            { &lt; observer descriptor 2 &gt;},</div>
<div class="line">            ...</div>
<div class="line">            { &lt; observer descriptor z&gt;}</div>
<div class="line">        ]</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>The <code>modeOfOperation</code> is a general description of the configuration file intent and only required for more meaniningful logging. <br  />
</li>
<li>The <code>libraryPaths</code> define an array of all the used RISA libraries in the pipeline. RISA will dynamically load the requested stage implementations from these libraries. More on that in the section on stage descriptors.</li>
<li>The <code>pipeline</code> group describes the overall structure of the pipeline, defined by the uses <code>Stages</code>, the <code>Connections</code> between the stages and possibly attached <code>Observers</code> which handle runtime reconfiguration. For this, the <code>runTimeConfigPath</code> must also be provided, which will hold all the runtime configuration files which are monitored for changes during execution.</li>
</ul>
<h3>Stage descriptor</h3>
<p >Every stage descriptor provides some basic information about the stage to use, e.g. </p><div class="fragment"><div class="line">{</div>
<div class="line">    &quot;type&quot;: &quot;Process&quot;,</div>
<div class="line">    &quot;name&quot;: &quot;Filter2D&quot;,</div>
<div class="line">    &quot;numInputs&quot;: 1,</div>
<div class="line">    &quot;numOutputs&quot;: 2,</div>
<div class="line">    &quot;identifier&quot;: &quot;MyGaussianBlur&quot;,</div>
<div class="line">    &quot;parameterSet&quot;: &quot;filter_1&quot;,</div>
<div class="line">    &quot;library&quot;: &quot;RISA_Core&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p ><em>All the fields are mandatory.</em> <br  />
</p><ul>
<li><code>type</code> describes the general type of stage to load. Valid values are <code>"Process"</code>, <code>"Source"</code>, <code>"Sink"</code>. <br  />
</li>
<li><code>name</code> is the name of the implemented stage class. <b>This must fit the function name exposed by the respective library!</b> <br  />
</li>
<li><code>numInputs</code> and <code>numOutputs</code> refer to the number of consumed/produced streams respectively. For <code>Source</code> stages, these must be <code>0</code> and <code>1</code>, for <code>Sink</code> stages <code>1</code> and <code>0</code>, respectively. <br  />
</li>
<li><code>identifier</code> is a unique identifier for the stage. This identifier is used to define connections and attached observers. <br  />
</li>
<li><code>parameterSet</code> may be used as a reference to which parameters from the config file to use. E.g. when using multiple filter stages these may use different configurations from the config file. <br  />
</li>
<li><code>library</code> is the name of the RISA library which implements this stage. Note that the file name for the libraries are <code>libRISA_xxx.so</code>. For the <code>library</code> value, use only <code>RISA_xxx</code>, e.g. use <code>RISA_Core</code> when referring to a stage implemented in <code>libRISA_Core.so</code>. <br  />
</li>
</ul>
<h3>Connection descriptor</h3>
<p >Connections between the created stages are defined in connection descpriptors like so: </p><div class="fragment"><div class="line">{</div>
<div class="line">    &quot;fromStage&quot;: &quot;producingStage&quot;,</div>
<div class="line">    &quot;toStage&quot;: &quot;consumingStage&quot;,</div>
<div class="line">    &quot;toPort&quot;: 0</div>
<div class="line">}</div>
</div><!-- fragment --><p ><em>All the fields are mandatory.</em> <br  />
</p><ul>
<li><code>fromStage</code> and <code>toStage</code> are the identifiers (defined in the stage descriptors) of the producing and consuming stage, respectively. <br  />
</li>
<li><code>toPort</code> refers to the input port of the consuming stage. Usually <code>0</code>, for stages with more than one input all ports from <code>0</code> to <code>numInputs - 1</code> must be connected. Outgoing connection ports for stages with multiple output ports are connected in order of appearence in the connection descriptors.</li>
</ul>
<h3>Observer descriptor</h3>
<p ><code>GLADOS</code> currently only implements <code>FileObserver</code> subjects. The observer descriptors are therefore simply defined by: </p><div class="fragment"><div class="line">{</div>
<div class="line">    &quot;stage&quot;: &quot;identifier&quot;,</div>
<div class="line">    &quot;file&quot;: &quot;filename&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p ><em>All the fields are mandatory.</em> <br  />
</p><ul>
<li><code>stage</code> refers to the identifier defined in the stage descriptors. <br  />
</li>
<li><code>file</code> is the file name of the runtime configuration file. An empty file with this name will be created in the <code>runtimeConfigPath</code>. Changes to this runtime config file will then be reflected asychronously in the pipeline to, e.g., update stage parameters while the pipeline is executing.</li>
</ul>
<h3>Settings per stage</h3>
<p >The settings for each stage are defined in its respective library. For an example, check the libRISA_Core reference <a href="https://gitlab.hzdr.de/fwdf/measurementscience/projects/ufxct/librisa_core/-/blob/main/Configuration.md">here</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 5 2022 13:19:17 for RISA by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
